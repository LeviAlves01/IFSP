{% extends 'base.html' %}
{% block content %}

<section class="page-section">
    <div class="container">

        <div class="section-title">
            <h2>Painel Pessoal</h2>
            <p>Veja suas reservas e suas faturas</p>
        </div>

        <!-- Reservas -->
        <h3 style="margin-top: 20px;">Minhas Reservas</h3>

        <div class="table-wrapper">
            <table class="styled-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Quarto</th>
                        <th>Check-in</th>
                        <th>Check-out</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                {% for r in reservas %}
                    <tr>
                        <td>{{ r['id_reserva'] }}</td>
                        <td>{{ r['numero_quarto'] or 'â€”' }}</td>
                        <td>{{ r['data_checkin'] }}</td>
                        <td>{{ r['data_checkout'] }}</td>
                        <td>{{ r['status_reserva'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- Faturas -->
        <h3 style="margin-top: 40px;">Minhas Faturas</h3>

        <div class="table-wrapper">
            <table class="styled-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Data</th>
                        <th>Total</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                {% for f in faturas %}
                    <tr>
                        <td>{{ f['id_fatura'] }}</td>
                        <td>{{ f['data_emissao'] }}</td>
                        <td>R$ {{ (f['valor_diarias'] + f['valor_servicos']) }}</td>
                        <td>{{ f['status_pagamento'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

    </div>
</section>

{% endblock %}
